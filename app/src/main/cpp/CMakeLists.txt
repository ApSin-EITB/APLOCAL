cmake_minimum_required(VERSION 3.18.1)
project(vpnbridge)

include_directories(${CMAKE_CURRENT_SOURCE_DIR}/include)

add_library(vpnbridge SHARED
        vpnbridge.cpp
)

# –ü–æ–ª—É—á–∞–µ–º –ø—É—Ç—å, –ø–µ—Ä–µ–¥–∞–Ω–Ω—ã–π –∏–∑ Gradle
add_library(wg-go SHARED IMPORTED)

# üëá –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –ø—É—Ç—å, –ø–æ–ª—É—á–µ–Ω–Ω—ã–π –æ—Ç Gradle
set_target_properties(wg-go PROPERTIES
        IMPORTED_LOCATION "${GO_WG_LIB}"
)

target_link_libraries(vpnbridge
        ${CMAKE_SOURCE_DIR}/../jniLibs/arm64-v8a/libwg-go.so
)

